<template name="stores">

    <div class="ui stackable two column grid">

        <div class="column">
            <div class="ui segments">
                <div class="ui clearing segment">
                    <div id="openModal" class="ui right floated basic button">
                        <i class="icon plus"></i>
                        {{_ "stores.add"}}
                    </div>
                    <div class="ui left floated"><h4>{{_ "stores.lrs"}}</h4></div>
                </div>
                {{#each stores}}
                    <div class="ui clearing segment">

                        <div class="ui right floated teal buttons needsclick">
                            <div class="ui {{ statusClass }} label">
                                {{ status }}
                            </div>
                            <div class="ui floating dropdown icon button storeSettings needsclick">
                                <i class="settings icon needsclick"></i>
                                <div class="menu">
                                    <div class="item storesActivate"><i class="checkmark icon"></i> {{_ "stores.activate"}}</div>
                                    <div class="item storesEdit"><i class="edit icon"></i> {{_ "stores.edit"}}</div>
                                    <div class="item storesRemove"><i class="delete icon"></i> {{_ "stores.remove"}}</div>
                                </div>
                            </div>
                        </div>

                        <div class="ui left floated">
                            <h4>{{ name }}</h4>
                            <p>{{ description }}</p>
                        </div>
                    </div>
                {{/each}}
            </div>

        </div>

    </div>
    
    <div id="insertStore" class="ui modal">
        <i class="close icon"></i>
        <div class="header">
            {{_ "stores.addStore" }}
        </div>
        
        <div class="content">
            {{#autoForm collection="Stores" id="insertStoreForm" type="insert"}}
                {{> afQuickField name='name'}}
                {{> afQuickField name='description'}}
                {{> afQuickField name='userId'}}
            {{/autoForm}}
        </div>
        <div class="actions">
            <div class="ui black deny button">
                {{_ "stores.cancel"}}
            </div>
            <div class="ui positive right labeled icon button">
                {{_ "stores.insert"}}
                <i class="checkmark icon"></i>
            </div>
        </div> 
    </div>


    <div id="updateStore" class="ui modal">
        <i class="close icon"></i>
        <div class="header">
            {{_ "stores.updateStore" }}
        </div>
        
        <div class="content">
            {{#autoForm collection="Stores" doc=editDoc id="updateStoreForm" type="update"}}
                {{> afQuickField name='name'}}
                {{> afQuickField name='description'}}
            {{/autoForm}}
        </div>
        <div class="actions">
            <div class="ui black deny button">
                {{_ "stores.cancel"}}
            </div>
            <div class="ui positive right labeled icon button">
                {{_ "stores.update"}}
                <i class="checkmark icon"></i>
            </div>
        </div> 
    </div>

    <div id="removeStore" class="ui small basic modal">
        {{#with deleteStore}}
        <i class="close icon"></i>
        <div class="header">
            {{_ "stores.remove"}} {{ name }}?
        </div>
        <div class="image content">
            <div class="image">
                <i class="archive icon"></i>
            </div>
            <div class="description">
                <p>Tell them what will happen to the statements in the store?</p>
            </div>
        </div>
        <div class="actions">
            <div class="ui red basic cancel inverted button">
                <i class="remove icon"></i>
                {{_ "stores.no"}}
            </div>
            <div class="ui green ok inverted button">
                <i class="checkmark icon"></i>
                {{_ "stores.yes"}}
            </div>
        </div>
        {{/with}}
    </div>

</template>